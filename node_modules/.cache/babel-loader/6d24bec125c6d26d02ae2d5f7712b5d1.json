{"ast":null,"code":"var util = require('../util');\n\nfunction QueryParamSerializer() {}\n\nQueryParamSerializer.prototype.serialize = function (params, shape, fn) {\n  serializeStructure('', params, shape, fn);\n};\n\nfunction ucfirst(shape) {\n  if (shape.isQueryName || shape.api.protocol !== 'ec2') {\n    return shape.name;\n  } else {\n    return shape.name[0].toUpperCase() + shape.name.substr(1);\n  }\n}\n\nfunction serializeStructure(prefix, struct, rules, fn) {\n  util.each(rules.members, function (name, member) {\n    var value = struct[name];\n    if (value === null || value === undefined) return;\n    var memberName = ucfirst(member);\n    memberName = prefix ? prefix + '.' + memberName : memberName;\n    serializeMember(memberName, value, member, fn);\n  });\n}\n\nfunction serializeMap(name, map, rules, fn) {\n  var i = 1;\n  util.each(map, function (key, value) {\n    var prefix = rules.flattened ? '.' : '.entry.';\n    var position = prefix + i++ + '.';\n    var keyName = position + (rules.key.name || 'key');\n    var valueName = position + (rules.value.name || 'value');\n    serializeMember(name + keyName, key, rules.key, fn);\n    serializeMember(name + valueName, value, rules.value, fn);\n  });\n}\n\nfunction serializeList(name, list, rules, fn) {\n  var memberRules = rules.member || {};\n\n  if (list.length === 0) {\n    fn.call(this, name, null);\n    return;\n  }\n\n  util.arrayEach(list, function (v, n) {\n    var suffix = '.' + (n + 1);\n\n    if (rules.api.protocol === 'ec2') {\n      // Do nothing for EC2\n      suffix = suffix + ''; // make linter happy\n    } else if (rules.flattened) {\n      if (memberRules.name) {\n        var parts = name.split('.');\n        parts.pop();\n        parts.push(ucfirst(memberRules));\n        name = parts.join('.');\n      }\n    } else {\n      suffix = '.' + (memberRules.name ? memberRules.name : 'member') + suffix;\n    }\n\n    serializeMember(name + suffix, v, memberRules, fn);\n  });\n}\n\nfunction serializeMember(name, value, rules, fn) {\n  if (value === null || value === undefined) return;\n\n  if (rules.type === 'structure') {\n    serializeStructure(name, value, rules, fn);\n  } else if (rules.type === 'list') {\n    serializeList(name, value, rules, fn);\n  } else if (rules.type === 'map') {\n    serializeMap(name, value, rules, fn);\n  } else {\n    fn(name, rules.toWireFormat(value).toString());\n  }\n}\n/**\n * @api private\n */\n\n\nmodule.exports = QueryParamSerializer;","map":{"version":3,"names":["util","require","QueryParamSerializer","prototype","serialize","params","shape","fn","serializeStructure","ucfirst","isQueryName","api","protocol","name","toUpperCase","substr","prefix","struct","rules","each","members","member","value","undefined","memberName","serializeMember","serializeMap","map","i","key","flattened","position","keyName","valueName","serializeList","list","memberRules","length","call","arrayEach","v","n","suffix","parts","split","pop","push","join","type","toWireFormat","toString","module","exports"],"sources":["/Users/lazarbogdan/test/medicacasa-frontend/node_modules/aws-sdk/lib/query/query_param_serializer.js"],"sourcesContent":["var util = require('../util');\n\nfunction QueryParamSerializer() {\n}\n\nQueryParamSerializer.prototype.serialize = function(params, shape, fn) {\n  serializeStructure('', params, shape, fn);\n};\n\nfunction ucfirst(shape) {\n  if (shape.isQueryName || shape.api.protocol !== 'ec2') {\n    return shape.name;\n  } else {\n    return shape.name[0].toUpperCase() + shape.name.substr(1);\n  }\n}\n\nfunction serializeStructure(prefix, struct, rules, fn) {\n  util.each(rules.members, function(name, member) {\n    var value = struct[name];\n    if (value === null || value === undefined) return;\n\n    var memberName = ucfirst(member);\n    memberName = prefix ? prefix + '.' + memberName : memberName;\n    serializeMember(memberName, value, member, fn);\n  });\n}\n\nfunction serializeMap(name, map, rules, fn) {\n  var i = 1;\n  util.each(map, function (key, value) {\n    var prefix = rules.flattened ? '.' : '.entry.';\n    var position = prefix + (i++) + '.';\n    var keyName = position + (rules.key.name || 'key');\n    var valueName = position + (rules.value.name || 'value');\n    serializeMember(name + keyName, key, rules.key, fn);\n    serializeMember(name + valueName, value, rules.value, fn);\n  });\n}\n\nfunction serializeList(name, list, rules, fn) {\n  var memberRules = rules.member || {};\n\n  if (list.length === 0) {\n    fn.call(this, name, null);\n    return;\n  }\n\n  util.arrayEach(list, function (v, n) {\n    var suffix = '.' + (n + 1);\n    if (rules.api.protocol === 'ec2') {\n      // Do nothing for EC2\n      suffix = suffix + ''; // make linter happy\n    } else if (rules.flattened) {\n      if (memberRules.name) {\n        var parts = name.split('.');\n        parts.pop();\n        parts.push(ucfirst(memberRules));\n        name = parts.join('.');\n      }\n    } else {\n      suffix = '.' + (memberRules.name ? memberRules.name : 'member') + suffix;\n    }\n    serializeMember(name + suffix, v, memberRules, fn);\n  });\n}\n\nfunction serializeMember(name, value, rules, fn) {\n  if (value === null || value === undefined) return;\n  if (rules.type === 'structure') {\n    serializeStructure(name, value, rules, fn);\n  } else if (rules.type === 'list') {\n    serializeList(name, value, rules, fn);\n  } else if (rules.type === 'map') {\n    serializeMap(name, value, rules, fn);\n  } else {\n    fn(name, rules.toWireFormat(value).toString());\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = QueryParamSerializer;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}