{"ast":null,"code":"var AWS = require('../core');\n\nvar v4Credentials = require('./v4_credentials');\n\nvar inherit = AWS.util.inherit;\n/**\n * @api private\n */\n\nvar expiresHeader = 'presigned-expires';\n/**\n * @api private\n */\n\nAWS.Signers.V4 = inherit(AWS.Signers.RequestSigner, {\n  constructor: function V4(request, serviceName, options) {\n    AWS.Signers.RequestSigner.call(this, request);\n    this.serviceName = serviceName;\n    options = options || {};\n    this.signatureCache = typeof options.signatureCache === 'boolean' ? options.signatureCache : true;\n    this.operation = options.operation;\n    this.signatureVersion = options.signatureVersion;\n  },\n  algorithm: 'AWS4-HMAC-SHA256',\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.iso8601(date).replace(/[:\\-]|\\.\\d{3}/g, '');\n\n    if (this.isPresigned()) {\n      this.updateForPresigned(credentials, datetime);\n    } else {\n      this.addHeaders(credentials, datetime);\n    }\n\n    this.request.headers['Authorization'] = this.authorization(credentials, datetime);\n  },\n  addHeaders: function addHeaders(credentials, datetime) {\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n  },\n  updateForPresigned: function updateForPresigned(credentials, datetime) {\n    var credString = this.credentialString(datetime);\n    var qs = {\n      'X-Amz-Date': datetime,\n      'X-Amz-Algorithm': this.algorithm,\n      'X-Amz-Credential': credentials.accessKeyId + '/' + credString,\n      'X-Amz-Expires': this.request.headers[expiresHeader],\n      'X-Amz-SignedHeaders': this.signedHeaders()\n    };\n\n    if (credentials.sessionToken) {\n      qs['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n\n    if (this.request.headers['Content-Type']) {\n      qs['Content-Type'] = this.request.headers['Content-Type'];\n    }\n\n    if (this.request.headers['Content-MD5']) {\n      qs['Content-MD5'] = this.request.headers['Content-MD5'];\n    }\n\n    if (this.request.headers['Cache-Control']) {\n      qs['Cache-Control'] = this.request.headers['Cache-Control'];\n    } // need to pull in any other X-Amz-* headers\n\n\n    AWS.util.each.call(this, this.request.headers, function (key, value) {\n      if (key === expiresHeader) return;\n\n      if (this.isSignableHeader(key)) {\n        var lowerKey = key.toLowerCase(); // Metadata should be normalized\n\n        if (lowerKey.indexOf('x-amz-meta-') === 0) {\n          qs[lowerKey] = value;\n        } else if (lowerKey.indexOf('x-amz-') === 0) {\n          qs[key] = value;\n        }\n      }\n    });\n    var sep = this.request.path.indexOf('?') >= 0 ? '&' : '?';\n    this.request.path += sep + AWS.util.queryParamsToString(qs);\n  },\n  authorization: function authorization(credentials, datetime) {\n    var parts = [];\n    var credString = this.credentialString(datetime);\n    parts.push(this.algorithm + ' Credential=' + credentials.accessKeyId + '/' + credString);\n    parts.push('SignedHeaders=' + this.signedHeaders());\n    parts.push('Signature=' + this.signature(credentials, datetime));\n    return parts.join(', ');\n  },\n  signature: function signature(credentials, datetime) {\n    var signingKey = v4Credentials.getSigningKey(credentials, datetime.substr(0, 8), this.request.region, this.serviceName, this.signatureCache);\n    return AWS.util.crypto.hmac(signingKey, this.stringToSign(datetime), 'hex');\n  },\n  stringToSign: function stringToSign(datetime) {\n    var parts = [];\n    parts.push('AWS4-HMAC-SHA256');\n    parts.push(datetime);\n    parts.push(this.credentialString(datetime));\n    parts.push(this.hexEncodedHash(this.canonicalString()));\n    return parts.join('\\n');\n  },\n  canonicalString: function canonicalString() {\n    var parts = [],\n        pathname = this.request.pathname();\n    if (this.serviceName !== 's3' && this.signatureVersion !== 's3v4') pathname = AWS.util.uriEscapePath(pathname);\n    parts.push(this.request.method);\n    parts.push(pathname);\n    parts.push(this.request.search());\n    parts.push(this.canonicalHeaders() + '\\n');\n    parts.push(this.signedHeaders());\n    parts.push(this.hexEncodedBodyHash());\n    return parts.join('\\n');\n  },\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = [];\n    AWS.util.each.call(this, this.request.headers, function (key, item) {\n      headers.push([key, item]);\n    });\n    headers.sort(function (a, b) {\n      return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : 1;\n    });\n    var parts = [];\n    AWS.util.arrayEach.call(this, headers, function (item) {\n      var key = item[0].toLowerCase();\n\n      if (this.isSignableHeader(key)) {\n        var value = item[1];\n\n        if (typeof value === 'undefined' || value === null || typeof value.toString !== 'function') {\n          throw AWS.util.error(new Error('Header ' + key + ' contains invalid value'), {\n            code: 'InvalidHeader'\n          });\n        }\n\n        parts.push(key + ':' + this.canonicalHeaderValues(value.toString()));\n      }\n    });\n    return parts.join('\\n');\n  },\n  canonicalHeaderValues: function canonicalHeaderValues(values) {\n    return values.replace(/\\s+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n  },\n  signedHeaders: function signedHeaders() {\n    var keys = [];\n    AWS.util.each.call(this, this.request.headers, function (key) {\n      key = key.toLowerCase();\n      if (this.isSignableHeader(key)) keys.push(key);\n    });\n    return keys.sort().join(';');\n  },\n  credentialString: function credentialString(datetime) {\n    return v4Credentials.createScope(datetime.substr(0, 8), this.request.region, this.serviceName);\n  },\n  hexEncodedHash: function hash(string) {\n    return AWS.util.crypto.sha256(string, 'hex');\n  },\n  hexEncodedBodyHash: function hexEncodedBodyHash() {\n    var request = this.request;\n\n    if (this.isPresigned() && ['s3', 's3-object-lambda'].indexOf(this.serviceName) > -1 && !request.body) {\n      return 'UNSIGNED-PAYLOAD';\n    } else if (request.headers['X-Amz-Content-Sha256']) {\n      return request.headers['X-Amz-Content-Sha256'];\n    } else {\n      return this.hexEncodedHash(this.request.body || '');\n    }\n  },\n  unsignableHeaders: ['authorization', 'content-type', 'content-length', 'user-agent', expiresHeader, 'expect', 'x-amzn-trace-id'],\n  isSignableHeader: function isSignableHeader(key) {\n    if (key.toLowerCase().indexOf('x-amz-') === 0) return true;\n    return this.unsignableHeaders.indexOf(key) < 0;\n  },\n  isPresigned: function isPresigned() {\n    return this.request.headers[expiresHeader] ? true : false;\n  }\n});\n/**\n * @api private\n */\n\nmodule.exports = AWS.Signers.V4;","map":{"version":3,"names":["AWS","require","v4Credentials","inherit","util","expiresHeader","Signers","V4","RequestSigner","constructor","request","serviceName","options","call","signatureCache","operation","signatureVersion","algorithm","addAuthorization","credentials","date","datetime","iso8601","replace","isPresigned","updateForPresigned","addHeaders","headers","authorization","sessionToken","credString","credentialString","qs","accessKeyId","signedHeaders","each","key","value","isSignableHeader","lowerKey","toLowerCase","indexOf","sep","path","queryParamsToString","parts","push","signature","join","signingKey","getSigningKey","substr","region","crypto","hmac","stringToSign","hexEncodedHash","canonicalString","pathname","uriEscapePath","method","search","canonicalHeaders","hexEncodedBodyHash","item","sort","a","b","arrayEach","toString","error","Error","code","canonicalHeaderValues","values","keys","createScope","hash","string","sha256","body","unsignableHeaders","module","exports"],"sources":["/Users/lazarbogdan/test/medicacasa-frontend/node_modules/aws-sdk/lib/signers/v4.js"],"sourcesContent":["var AWS = require('../core');\nvar v4Credentials = require('./v4_credentials');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nAWS.Signers.V4 = inherit(AWS.Signers.RequestSigner, {\n  constructor: function V4(request, serviceName, options) {\n    AWS.Signers.RequestSigner.call(this, request);\n    this.serviceName = serviceName;\n    options = options || {};\n    this.signatureCache = typeof options.signatureCache === 'boolean' ? options.signatureCache : true;\n    this.operation = options.operation;\n    this.signatureVersion = options.signatureVersion;\n  },\n\n  algorithm: 'AWS4-HMAC-SHA256',\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.iso8601(date).replace(/[:\\-]|\\.\\d{3}/g, '');\n\n    if (this.isPresigned()) {\n      this.updateForPresigned(credentials, datetime);\n    } else {\n      this.addHeaders(credentials, datetime);\n    }\n\n    this.request.headers['Authorization'] =\n      this.authorization(credentials, datetime);\n  },\n\n  addHeaders: function addHeaders(credentials, datetime) {\n    this.request.headers['X-Amz-Date'] = datetime;\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n  },\n\n  updateForPresigned: function updateForPresigned(credentials, datetime) {\n    var credString = this.credentialString(datetime);\n    var qs = {\n      'X-Amz-Date': datetime,\n      'X-Amz-Algorithm': this.algorithm,\n      'X-Amz-Credential': credentials.accessKeyId + '/' + credString,\n      'X-Amz-Expires': this.request.headers[expiresHeader],\n      'X-Amz-SignedHeaders': this.signedHeaders()\n    };\n\n    if (credentials.sessionToken) {\n      qs['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n\n    if (this.request.headers['Content-Type']) {\n      qs['Content-Type'] = this.request.headers['Content-Type'];\n    }\n    if (this.request.headers['Content-MD5']) {\n      qs['Content-MD5'] = this.request.headers['Content-MD5'];\n    }\n    if (this.request.headers['Cache-Control']) {\n      qs['Cache-Control'] = this.request.headers['Cache-Control'];\n    }\n\n    // need to pull in any other X-Amz-* headers\n    AWS.util.each.call(this, this.request.headers, function(key, value) {\n      if (key === expiresHeader) return;\n      if (this.isSignableHeader(key)) {\n        var lowerKey = key.toLowerCase();\n        // Metadata should be normalized\n        if (lowerKey.indexOf('x-amz-meta-') === 0) {\n          qs[lowerKey] = value;\n        } else if (lowerKey.indexOf('x-amz-') === 0) {\n          qs[key] = value;\n        }\n      }\n    });\n\n    var sep = this.request.path.indexOf('?') >= 0 ? '&' : '?';\n    this.request.path += sep + AWS.util.queryParamsToString(qs);\n  },\n\n  authorization: function authorization(credentials, datetime) {\n    var parts = [];\n    var credString = this.credentialString(datetime);\n    parts.push(this.algorithm + ' Credential=' +\n      credentials.accessKeyId + '/' + credString);\n    parts.push('SignedHeaders=' + this.signedHeaders());\n    parts.push('Signature=' + this.signature(credentials, datetime));\n    return parts.join(', ');\n  },\n\n  signature: function signature(credentials, datetime) {\n    var signingKey = v4Credentials.getSigningKey(\n      credentials,\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName,\n      this.signatureCache\n    );\n    return AWS.util.crypto.hmac(signingKey, this.stringToSign(datetime), 'hex');\n  },\n\n  stringToSign: function stringToSign(datetime) {\n    var parts = [];\n    parts.push('AWS4-HMAC-SHA256');\n    parts.push(datetime);\n    parts.push(this.credentialString(datetime));\n    parts.push(this.hexEncodedHash(this.canonicalString()));\n    return parts.join('\\n');\n  },\n\n  canonicalString: function canonicalString() {\n    var parts = [], pathname = this.request.pathname();\n    if (this.serviceName !== 's3' && this.signatureVersion !== 's3v4') pathname = AWS.util.uriEscapePath(pathname);\n\n    parts.push(this.request.method);\n    parts.push(pathname);\n    parts.push(this.request.search());\n    parts.push(this.canonicalHeaders() + '\\n');\n    parts.push(this.signedHeaders());\n    parts.push(this.hexEncodedBodyHash());\n    return parts.join('\\n');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = [];\n    AWS.util.each.call(this, this.request.headers, function (key, item) {\n      headers.push([key, item]);\n    });\n    headers.sort(function (a, b) {\n      return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : 1;\n    });\n    var parts = [];\n    AWS.util.arrayEach.call(this, headers, function (item) {\n      var key = item[0].toLowerCase();\n      if (this.isSignableHeader(key)) {\n        var value = item[1];\n        if (typeof value === 'undefined' || value === null || typeof value.toString !== 'function') {\n          throw AWS.util.error(new Error('Header ' + key + ' contains invalid value'), {\n            code: 'InvalidHeader'\n          });\n        }\n        parts.push(key + ':' +\n          this.canonicalHeaderValues(value.toString()));\n      }\n    });\n    return parts.join('\\n');\n  },\n\n  canonicalHeaderValues: function canonicalHeaderValues(values) {\n    return values.replace(/\\s+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n  },\n\n  signedHeaders: function signedHeaders() {\n    var keys = [];\n    AWS.util.each.call(this, this.request.headers, function (key) {\n      key = key.toLowerCase();\n      if (this.isSignableHeader(key)) keys.push(key);\n    });\n    return keys.sort().join(';');\n  },\n\n  credentialString: function credentialString(datetime) {\n    return v4Credentials.createScope(\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName\n    );\n  },\n\n  hexEncodedHash: function hash(string) {\n    return AWS.util.crypto.sha256(string, 'hex');\n  },\n\n  hexEncodedBodyHash: function hexEncodedBodyHash() {\n    var request = this.request;\n    if (this.isPresigned() && (['s3', 's3-object-lambda'].indexOf(this.serviceName) > -1) && !request.body) {\n      return 'UNSIGNED-PAYLOAD';\n    } else if (request.headers['X-Amz-Content-Sha256']) {\n      return request.headers['X-Amz-Content-Sha256'];\n    } else {\n      return this.hexEncodedHash(this.request.body || '');\n    }\n  },\n\n  unsignableHeaders: [\n    'authorization',\n    'content-type',\n    'content-length',\n    'user-agent',\n    expiresHeader,\n    'expect',\n    'x-amzn-trace-id'\n  ],\n\n  isSignableHeader: function isSignableHeader(key) {\n    if (key.toLowerCase().indexOf('x-amz-') === 0) return true;\n    return this.unsignableHeaders.indexOf(key) < 0;\n  },\n\n  isPresigned: function isPresigned() {\n    return this.request.headers[expiresHeader] ? true : false;\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V4;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}