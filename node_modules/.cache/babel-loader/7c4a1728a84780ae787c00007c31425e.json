{"ast":null,"code":"var AWS = require('../core');\n\nvar inherit = AWS.util.inherit;\n/**\n * @api private\n */\n\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.rfc822(date);\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    this.request.headers['X-Amzn-Authorization'] = this.authorization(credentials, datetime);\n  },\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' + 'AWSAccessKeyId=' + credentials.accessKeyId + ',' + 'Algorithm=HmacSHA256,' + 'SignedHeaders=' + this.signedHeaders() + ',' + 'Signature=' + this.signature(credentials);\n  },\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n});\n/**\n * @api private\n */\n\nmodule.exports = AWS.Signers.V3;","map":{"version":3,"names":["AWS","require","inherit","util","Signers","V3","RequestSigner","addAuthorization","credentials","date","datetime","rfc822","request","headers","sessionToken","authorization","accessKeyId","signedHeaders","signature","arrayEach","headersToSign","iterator","h","push","toLowerCase","sort","join","canonicalHeaders","parts","trim","String","each","k","match","crypto","hmac","secretAccessKey","stringToSign","method","body","sha256","module","exports"],"sources":["/Users/lazarbogdan/test/medicacasa-frontend/medicacasa-frontend/node_modules/aws-sdk/lib/signers/v3.js"],"sourcesContent":["var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    var datetime = AWS.util.date.rfc822(date);\n\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    this.request.headers['X-Amzn-Authorization'] =\n      this.authorization(credentials, datetime);\n\n  },\n\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'SignedHeaders=' + this.signedHeaders() + ',' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}