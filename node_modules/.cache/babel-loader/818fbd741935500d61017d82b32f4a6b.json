{"ast":null,"code":"var AWS = require('../core');\n\nrequire('../dynamodb/document_client');\n\nAWS.util.update(AWS.DynamoDB.prototype, {\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    if (request.service.config.dynamoDbCrc32) {\n      request.removeListener('extractData', AWS.EventListeners.Json.EXTRACT_DATA);\n      request.addListener('extractData', this.checkCrc32);\n      request.addListener('extractData', AWS.EventListeners.Json.EXTRACT_DATA);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  checkCrc32: function checkCrc32(resp) {\n    if (!resp.httpResponse.streaming && !resp.request.service.crc32IsValid(resp)) {\n      resp.data = null;\n      resp.error = AWS.util.error(new Error(), {\n        code: 'CRC32CheckFailed',\n        message: 'CRC32 integrity check failed',\n        retryable: true\n      });\n      resp.request.haltHandlersOnError();\n      throw resp.error;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  crc32IsValid: function crc32IsValid(resp) {\n    var crc = resp.httpResponse.headers['x-amz-crc32'];\n    if (!crc) return true; // no (valid) CRC32 header\n\n    return parseInt(crc, 10) === AWS.util.crypto.crc32(resp.httpResponse.body);\n  },\n\n  /**\n   * @api private\n   */\n  defaultRetryCount: 10,\n\n  /**\n   * @api private\n   */\n  retryDelays: function retryDelays(retryCount, err) {\n    var retryDelayOptions = AWS.util.copy(this.config.retryDelayOptions);\n\n    if (typeof retryDelayOptions.base !== 'number') {\n      retryDelayOptions.base = 50; // default for dynamodb\n    }\n\n    var delay = AWS.util.calculateRetryDelay(retryCount, retryDelayOptions, err);\n    return delay;\n  }\n});","map":{"version":3,"names":["AWS","require","util","update","DynamoDB","prototype","setupRequestListeners","request","service","config","dynamoDbCrc32","removeListener","EventListeners","Json","EXTRACT_DATA","addListener","checkCrc32","resp","httpResponse","streaming","crc32IsValid","data","error","Error","code","message","retryable","haltHandlersOnError","crc","headers","parseInt","crypto","crc32","body","defaultRetryCount","retryDelays","retryCount","err","retryDelayOptions","copy","base","delay","calculateRetryDelay"],"sources":["/Users/lazarbogdan/test/medicacasa-frontend/node_modules/aws-sdk/lib/services/dynamodb.js"],"sourcesContent":["var AWS = require('../core');\nrequire('../dynamodb/document_client');\n\nAWS.util.update(AWS.DynamoDB.prototype, {\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    if (request.service.config.dynamoDbCrc32) {\n      request.removeListener('extractData', AWS.EventListeners.Json.EXTRACT_DATA);\n      request.addListener('extractData', this.checkCrc32);\n      request.addListener('extractData', AWS.EventListeners.Json.EXTRACT_DATA);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  checkCrc32: function checkCrc32(resp) {\n    if (!resp.httpResponse.streaming && !resp.request.service.crc32IsValid(resp)) {\n      resp.data = null;\n      resp.error = AWS.util.error(new Error(), {\n        code: 'CRC32CheckFailed',\n        message: 'CRC32 integrity check failed',\n        retryable: true\n      });\n      resp.request.haltHandlersOnError();\n      throw (resp.error);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  crc32IsValid: function crc32IsValid(resp) {\n    var crc = resp.httpResponse.headers['x-amz-crc32'];\n    if (!crc) return true; // no (valid) CRC32 header\n    return parseInt(crc, 10) === AWS.util.crypto.crc32(resp.httpResponse.body);\n  },\n\n  /**\n   * @api private\n   */\n  defaultRetryCount: 10,\n\n  /**\n   * @api private\n   */\n  retryDelays: function retryDelays(retryCount, err) {\n    var retryDelayOptions = AWS.util.copy(this.config.retryDelayOptions);\n\n    if (typeof retryDelayOptions.base !== 'number') {\n        retryDelayOptions.base = 50; // default for dynamodb\n    }\n    var delay = AWS.util.calculateRetryDelay(retryCount, retryDelayOptions, err);\n    return delay;\n  }\n});\n"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,SAAD,CAAjB;;AACAA,OAAO,CAAC,6BAAD,CAAP;;AAEAD,GAAG,CAACE,IAAJ,CAASC,MAAT,CAAgBH,GAAG,CAACI,QAAJ,CAAaC,SAA7B,EAAwC;EACtC;AACF;AACA;EACEC,qBAAqB,EAAE,SAASA,qBAAT,CAA+BC,OAA/B,EAAwC;IAC7D,IAAIA,OAAO,CAACC,OAAR,CAAgBC,MAAhB,CAAuBC,aAA3B,EAA0C;MACxCH,OAAO,CAACI,cAAR,CAAuB,aAAvB,EAAsCX,GAAG,CAACY,cAAJ,CAAmBC,IAAnB,CAAwBC,YAA9D;MACAP,OAAO,CAACQ,WAAR,CAAoB,aAApB,EAAmC,KAAKC,UAAxC;MACAT,OAAO,CAACQ,WAAR,CAAoB,aAApB,EAAmCf,GAAG,CAACY,cAAJ,CAAmBC,IAAnB,CAAwBC,YAA3D;IACD;EACF,CAVqC;;EAYtC;AACF;AACA;EACEE,UAAU,EAAE,SAASA,UAAT,CAAoBC,IAApB,EAA0B;IACpC,IAAI,CAACA,IAAI,CAACC,YAAL,CAAkBC,SAAnB,IAAgC,CAACF,IAAI,CAACV,OAAL,CAAaC,OAAb,CAAqBY,YAArB,CAAkCH,IAAlC,CAArC,EAA8E;MAC5EA,IAAI,CAACI,IAAL,GAAY,IAAZ;MACAJ,IAAI,CAACK,KAAL,GAAatB,GAAG,CAACE,IAAJ,CAASoB,KAAT,CAAe,IAAIC,KAAJ,EAAf,EAA4B;QACvCC,IAAI,EAAE,kBADiC;QAEvCC,OAAO,EAAE,8BAF8B;QAGvCC,SAAS,EAAE;MAH4B,CAA5B,CAAb;MAKAT,IAAI,CAACV,OAAL,CAAaoB,mBAAb;MACA,MAAOV,IAAI,CAACK,KAAZ;IACD;EACF,CA1BqC;;EA4BtC;AACF;AACA;EACEF,YAAY,EAAE,SAASA,YAAT,CAAsBH,IAAtB,EAA4B;IACxC,IAAIW,GAAG,GAAGX,IAAI,CAACC,YAAL,CAAkBW,OAAlB,CAA0B,aAA1B,CAAV;IACA,IAAI,CAACD,GAAL,EAAU,OAAO,IAAP,CAF8B,CAEjB;;IACvB,OAAOE,QAAQ,CAACF,GAAD,EAAM,EAAN,CAAR,KAAsB5B,GAAG,CAACE,IAAJ,CAAS6B,MAAT,CAAgBC,KAAhB,CAAsBf,IAAI,CAACC,YAAL,CAAkBe,IAAxC,CAA7B;EACD,CAnCqC;;EAqCtC;AACF;AACA;EACEC,iBAAiB,EAAE,EAxCmB;;EA0CtC;AACF;AACA;EACEC,WAAW,EAAE,SAASA,WAAT,CAAqBC,UAArB,EAAiCC,GAAjC,EAAsC;IACjD,IAAIC,iBAAiB,GAAGtC,GAAG,CAACE,IAAJ,CAASqC,IAAT,CAAc,KAAK9B,MAAL,CAAY6B,iBAA1B,CAAxB;;IAEA,IAAI,OAAOA,iBAAiB,CAACE,IAAzB,KAAkC,QAAtC,EAAgD;MAC5CF,iBAAiB,CAACE,IAAlB,GAAyB,EAAzB,CAD4C,CACf;IAChC;;IACD,IAAIC,KAAK,GAAGzC,GAAG,CAACE,IAAJ,CAASwC,mBAAT,CAA6BN,UAA7B,EAAyCE,iBAAzC,EAA4DD,GAA5D,CAAZ;IACA,OAAOI,KAAP;EACD;AArDqC,CAAxC"},"metadata":{},"sourceType":"script"}