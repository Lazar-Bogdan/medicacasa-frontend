{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport React from \"react\";\nimport { merge, isArray, isString } from \"lodash\";\nimport getQAPI from \"../utils/getQAPI\";\nimport { Override } from \"../\";\nimport createOverrideConfiguration from \"./override-utils/createOverrideConfiguration\";\nvar JOIN_SEPARATOR = \",\";\nvar PARENT_SEPARATOR = \"/\";\nvar PLACEHOLDER_STYLES = {\n  width: \"100%\",\n  display: \"none\"\n};\nexport var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/;\nexport var reIsNumProp = /^\\s*\\d+\\s*$/;\nvar toArray = React.Children.toArray.bind(React.Children);\n/**\n * Функция проверит свойства компонента, на наличие\n * не пустых дочерних значений, и если таких нет,\n * удалит children из свойств\n */\n\nvar filterChildrenInProps = function filterChildrenInProps(props) {\n  if (isArray(props === null || props === void 0 ? void 0 : props.children) && props.children.filter(function (value) {\n    return isArray(value) ? value.length : !!value;\n  }).length === 0) {\n    delete props.children;\n  }\n};\n\nvar checkPlaceholder = function checkPlaceholder(child) {\n  if (!child || !child.props || !child.props.text) return false;\n  return child.props.text === \"child placeholder\";\n};\n/**\n * Функция выполняет несколько действий одновременно:\n *\n * - отфильтрует пустые значения из дочерних элементов компонента\n * - найдет все дочерние Overrid'ы и запишет их переопределения слотов\n *   в возвращаемый объект overrides\n * - если у компонента нет \"не системных - hasRealChildren\" дочерних\n *   элементов и есть дефолтные дочерние элементы из defaultProps,\n *   то примешает их (defaultChildren) к дочерним элементам компонента\n * - вернет собранные overrid'ы и обработанные дочерние элементы\n */\n\n\nvar filterChildren = function filterChildren(componentChildren, defaultProps) {\n  var defaultChildren = defaultProps === null || defaultProps === void 0 ? void 0 : defaultProps.children;\n  var overrides = {};\n  var hasRealChildren = false;\n  var children = toArray(componentChildren).filter(function (child) {\n    var _child$props;\n\n    var isDNDPlaceholder = checkPlaceholder(child);\n    var isEmpty = !child;\n    var isOverride = !!(child !== null && child !== void 0 && (_child$props = child.props) !== null && _child$props !== void 0 && _child$props.slot); // skip placeholder\n\n    if (isDNDPlaceholder) return true; // remove empty children\n\n    if (isEmpty) return false; // extract data from overrides\n\n    if (isOverride) {\n      var _child$props2 = child.props,\n          slot = _child$props2.slot,\n          rest = _objectWithoutProperties(_child$props2, [\"slot\"]);\n\n      filterChildrenInProps(rest);\n\n      if (slot) {\n        if (!overrides[slot]) {\n          overrides[slot] = {};\n        }\n\n        merge(overrides[slot], rest);\n      }\n\n      return true;\n    } // save the rest of the children\n\n\n    hasRealChildren = true;\n    return true;\n  });\n\n  if (!hasRealChildren && defaultChildren) {\n    children.push.apply(children, _toConsumableArray(toArray(defaultChildren)));\n  }\n\n  return {\n    overrides: overrides,\n    children: children\n  };\n};\n/**\n * Для каждого ключа из keys смешиваем свойства\n * overrid'od из исходного кода компонента overrides/componentOverrides\n * cо свойствами из оверайдов извлеченных из дочерних элементов\n * компонента\n *\n * fromSourceCode - оверайды определенные в компоненте\n * fromChildren - оверайды определенные в дочерних элементах компонента\n */\n\n\nvar mergeOverridesByKeys = function mergeOverridesByKeys(keys, fromSourceCode, fromChildren) {\n  return keys.reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), mergeOverrideProps(fromSourceCode[key], fromChildren[key]));\n  }, {});\n};\n\nvar mergeOverrideProps = function mergeOverrideProps(fromSourceCode, propsFromChildren) {\n  var propsFromSourceCode = (fromSourceCode === null || fromSourceCode === void 0 ? void 0 : fromSourceCode.props) || {};\n  var overridesFromSourceCode = (fromSourceCode === null || fromSourceCode === void 0 ? void 0 : fromSourceCode.overrides) || {}; // convert source code overrides to react components\n\n  var childrenFromOverrides = getOverrideChildren(overridesFromSourceCode) || [];\n  var hasChildren = toArray(propsFromChildren === null || propsFromChildren === void 0 ? void 0 : propsFromChildren.children).some(function (v) {\n    return v;\n  });\n  var childrenFromProps = hasChildren ? propsFromChildren.children : propsFromSourceCode.children; // wrap with array\n\n  if (!Array.isArray(childrenFromProps)) {\n    childrenFromProps = [childrenFromProps];\n  } // add keys\n\n\n  childrenFromProps = childrenFromProps.map(function (child, index) {\n    var _child;\n\n    if ( /*#__PURE__*/React.isValidElement(child) && ((_child = child) === null || _child === void 0 ? void 0 : _child.key) === null) {\n      child = /*#__PURE__*/React.cloneElement(child, {\n        key: index\n      });\n    }\n\n    return child;\n  });\n\n  var props = _objectSpread(_objectSpread(_objectSpread({}, propsFromSourceCode), propsFromChildren), {}, {\n    children: [].concat(_toConsumableArray(childrenFromOverrides), _toConsumableArray(childrenFromProps)).filter(function (v) {\n      return v;\n    })\n  }); // Мы не передаем kind react-компонентам Override, чтоб они не могли\n  // переопределить kind тем компонентам которым передают новые свойства.\n  // В результирующей верстке (html) Overrid'ы все равно никак не отображаются\n  // и служат только инструментом переопределения свойств слотам\n\n\n  if (fromSourceCode !== null && fromSourceCode !== void 0 && fromSourceCode.kind && fromSourceCode.kind !== \"Override\") {\n    props[\"data-qkind\"] = fromSourceCode.kind;\n  }\n\n  if (!props.children.length) {\n    delete props.children;\n  }\n\n  return props;\n};\n/**\n * Просматривает overrides/componentOverrides компонента\n * и рендерит эти узлы, если они есть. Рендеринг выполняется\n * рекурсивно\n */\n\n\nvar getOverrideChildren = function getOverrideChildren(overrides) {\n  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  if (!overrides) return null;\n  return Object.entries(overrides).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        _ref2$ = _ref2[1],\n        props = _ref2$.props,\n        overrides = _ref2$.overrides;\n\n    var _ref3 = props || {},\n        _ref3$children = _ref3.children,\n        children = _ref3$children === void 0 ? null : _ref3$children,\n        rest = _objectWithoutProperties(_ref3, [\"children\"]);\n    /**\n     * Необходимо привести дочерние элементы оверрайдов в единную сущность в виде массива,\n     * иначе произойдет некорректный мердж двух списков и реакт при исполнении функции toArray уйдёт в рекурсию \n     */\n\n\n    var overrideChildren = getOverrideChildren(overrides, level + 1) || [];\n    var normalizedChildren = children || [];\n\n    if (!Array.isArray(children)) {\n      normalizedChildren = [normalizedChildren];\n    }\n\n    return /*#__PURE__*/React.createElement(Override, _extends({\n      key: \"\".concat(level, \"-\").concat(key),\n      slot: key\n    }, rest), [].concat(_toConsumableArray(overrideChildren), _toConsumableArray(normalizedChildren)));\n  });\n};\n\nexport var useOverrides = function useOverrides(componentProps, componentOverrides, componentDefaultProps) {\n  var componentChildren = componentProps.children,\n      restProps = _objectWithoutProperties(componentProps, [\"children\"]);\n\n  var _filterChildren = filterChildren(componentChildren, componentDefaultProps),\n      overridesFromChildren = _filterChildren.overrides,\n      filteredChildren = _filterChildren.children;\n\n  var override = function override() {\n    for (var _len = arguments.length, overrideKeys = new Array(_len), _key = 0; _key < _len; _key++) {\n      overrideKeys[_key] = arguments[_key];\n    }\n\n    var length = overrideKeys.length;\n\n    if (length === 0) {\n      console.warn('override function call should not be without params');\n      return {};\n    }\n\n    var _createOverrideConfig = createOverrideConfiguration(length <= 1 ? {} : overrideKeys[length - 1]),\n        defaultKey = _createOverrideConfig.defaultKey;\n\n    for (var _i = 0, _overrideKeys = overrideKeys; _i < _overrideKeys.length; _i++) {\n      var key = _overrideKeys[_i];\n\n      if (isString(key) && (reIsDeepProp.test(key) || reIsNumProp.test(key))) {\n        throw new Error(\"\\\"\".concat(key, \"\\\" isn't allowed as an override key\"));\n      }\n    }\n\n    var joinedKeys = overrideKeys.filter(function (v) {\n      return isString(v) && v;\n    }).join(JOIN_SEPARATOR);\n    var parentOverrideKey = restProps[\"data-qoverride\"];\n    var parentComponentId = restProps[\"data-qparent\"];\n    var componentId = restProps[\"data-qid\"];\n    var resultKey = joinedKeys; // зачем создавать такой ключ, для qparent? какую роль он потом будет нести?\n\n    if (parentOverrideKey) {\n      resultKey = parentOverrideKey + PARENT_SEPARATOR + resultKey;\n    }\n\n    return _objectSpread(_objectSpread({\n      \"data-qparent\": parentComponentId || componentId,\n      \"data-qoverride\": resultKey\n    }, mergeOverridesByKeys(overrideKeys, componentOverrides, overridesFromChildren)), {}, {\n      \"data-qoverride-default\": defaultKey,\n      \"data-propinfo-id\": undefined\n    });\n  };\n\n  var ChildPlaceholder = React.useMemo(function () {\n    return function (_ref4) {\n      var slot = _ref4.slot;\n      var qapi = getQAPI();\n\n      if (!isString(slot) || reIsDeepProp.test(slot) || reIsNumProp.test(slot)) {\n        throw new Error(\"\\\"\".concat(slot, \"\\\" isn't allowed as a ChildPlaceholder slot\"));\n      }\n\n      var slotData = override(slot);\n      var childPlaceholderKey = slot;\n      var parentOverrideKey = restProps[\"data-qoverride\"];\n\n      if (parentOverrideKey) {\n        childPlaceholderKey = parentOverrideKey + PARENT_SEPARATOR + childPlaceholderKey;\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: \"\".concat(childPlaceholderKey, \"-fragment\")\n      }, qapi.mode !== 'production' && /*#__PURE__*/React.createElement(\"div\", {\n        key: \"div-placeholder-\".concat(childPlaceholderKey),\n        \"data-child-placeholder\": childPlaceholderKey,\n        \"data-child-placeholder-parent\": restProps[\"data-qparent\"] || restProps[\"data-qid\"],\n        style: PLACEHOLDER_STYLES\n      }), slotData.children);\n    };\n  }, [override]);\n  /*\n   * TODO: it creates unnecessary overrides\n   * It needs to filter out existing calls: override('key')\n   */\n\n  var overridesFromCode = getOverrideChildren(componentOverrides) || [];\n  return {\n    override: override,\n    children: [].concat(_toConsumableArray(overridesFromCode), _toConsumableArray(filteredChildren)),\n    rest: restProps,\n    ChildPlaceholder: ChildPlaceholder\n  };\n};","map":{"version":3,"names":["_extends","_slicedToArray","_defineProperty","_toConsumableArray","_objectWithoutProperties","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","merge","isArray","isString","getQAPI","Override","createOverrideConfiguration","JOIN_SEPARATOR","PARENT_SEPARATOR","PLACEHOLDER_STYLES","width","display","reIsDeepProp","reIsNumProp","toArray","Children","bind","filterChildrenInProps","props","children","value","checkPlaceholder","child","text","filterChildren","componentChildren","defaultProps","defaultChildren","overrides","hasRealChildren","_child$props","isDNDPlaceholder","isEmpty","isOverride","slot","_child$props2","rest","mergeOverridesByKeys","fromSourceCode","fromChildren","reduce","acc","mergeOverrideProps","propsFromChildren","propsFromSourceCode","overridesFromSourceCode","childrenFromOverrides","getOverrideChildren","hasChildren","some","v","childrenFromProps","Array","map","index","_child","isValidElement","cloneElement","concat","kind","level","undefined","entries","_ref","_ref2","_ref2$","_ref3","_ref3$children","overrideChildren","normalizedChildren","createElement","useOverrides","componentProps","componentOverrides","componentDefaultProps","restProps","_filterChildren","overridesFromChildren","filteredChildren","override","_len","overrideKeys","_key","console","warn","_createOverrideConfig","defaultKey","_i","_overrideKeys","test","Error","joinedKeys","join","parentOverrideKey","parentComponentId","componentId","resultKey","ChildPlaceholder","useMemo","_ref4","qapi","slotData","childPlaceholderKey","Fragment","mode","style","overridesFromCode"],"sources":["/Users/lazarbogdan/test/medicacasa-frontend/medicacasa-frontend/node_modules/@quarkly/components/build/esm/hooks/useOverrides.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { merge, isArray, isString } from \"lodash\";\nimport getQAPI from \"../utils/getQAPI\";\nimport { Override } from \"../\";\nimport createOverrideConfiguration from \"./override-utils/createOverrideConfiguration\";\nvar JOIN_SEPARATOR = \",\";\nvar PARENT_SEPARATOR = \"/\";\nvar PLACEHOLDER_STYLES = {\n  width: \"100%\",\n  display: \"none\"\n};\nexport var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/;\nexport var reIsNumProp = /^\\s*\\d+\\s*$/;\nvar toArray = React.Children.toArray.bind(React.Children);\n/**\n * Функция проверит свойства компонента, на наличие\n * не пустых дочерних значений, и если таких нет,\n * удалит children из свойств\n */\n\nvar filterChildrenInProps = function filterChildrenInProps(props) {\n  if (isArray(props === null || props === void 0 ? void 0 : props.children) && props.children.filter(function (value) {\n    return isArray(value) ? value.length : !!value;\n  }).length === 0) {\n    delete props.children;\n  }\n};\n\nvar checkPlaceholder = function checkPlaceholder(child) {\n  if (!child || !child.props || !child.props.text) return false;\n  return child.props.text === \"child placeholder\";\n};\n/**\n * Функция выполняет несколько действий одновременно:\n *\n * - отфильтрует пустые значения из дочерних элементов компонента\n * - найдет все дочерние Overrid'ы и запишет их переопределения слотов\n *   в возвращаемый объект overrides\n * - если у компонента нет \"не системных - hasRealChildren\" дочерних\n *   элементов и есть дефолтные дочерние элементы из defaultProps,\n *   то примешает их (defaultChildren) к дочерним элементам компонента\n * - вернет собранные overrid'ы и обработанные дочерние элементы\n */\n\n\nvar filterChildren = function filterChildren(componentChildren, defaultProps) {\n  var defaultChildren = defaultProps === null || defaultProps === void 0 ? void 0 : defaultProps.children;\n  var overrides = {};\n  var hasRealChildren = false;\n  var children = toArray(componentChildren).filter(function (child) {\n    var _child$props;\n\n    var isDNDPlaceholder = checkPlaceholder(child);\n    var isEmpty = !child;\n    var isOverride = !!(child !== null && child !== void 0 && (_child$props = child.props) !== null && _child$props !== void 0 && _child$props.slot); // skip placeholder\n\n    if (isDNDPlaceholder) return true; // remove empty children\n\n    if (isEmpty) return false; // extract data from overrides\n\n    if (isOverride) {\n      var _child$props2 = child.props,\n          slot = _child$props2.slot,\n          rest = _objectWithoutProperties(_child$props2, [\"slot\"]);\n\n      filterChildrenInProps(rest);\n\n      if (slot) {\n        if (!overrides[slot]) {\n          overrides[slot] = {};\n        }\n\n        merge(overrides[slot], rest);\n      }\n\n      return true;\n    } // save the rest of the children\n\n\n    hasRealChildren = true;\n    return true;\n  });\n\n  if (!hasRealChildren && defaultChildren) {\n    children.push.apply(children, _toConsumableArray(toArray(defaultChildren)));\n  }\n\n  return {\n    overrides: overrides,\n    children: children\n  };\n};\n/**\n * Для каждого ключа из keys смешиваем свойства\n * overrid'od из исходного кода компонента overrides/componentOverrides\n * cо свойствами из оверайдов извлеченных из дочерних элементов\n * компонента\n *\n * fromSourceCode - оверайды определенные в компоненте\n * fromChildren - оверайды определенные в дочерних элементах компонента\n */\n\n\nvar mergeOverridesByKeys = function mergeOverridesByKeys(keys, fromSourceCode, fromChildren) {\n  return keys.reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), mergeOverrideProps(fromSourceCode[key], fromChildren[key]));\n  }, {});\n};\n\nvar mergeOverrideProps = function mergeOverrideProps(fromSourceCode, propsFromChildren) {\n  var propsFromSourceCode = (fromSourceCode === null || fromSourceCode === void 0 ? void 0 : fromSourceCode.props) || {};\n  var overridesFromSourceCode = (fromSourceCode === null || fromSourceCode === void 0 ? void 0 : fromSourceCode.overrides) || {}; // convert source code overrides to react components\n\n  var childrenFromOverrides = getOverrideChildren(overridesFromSourceCode) || [];\n  var hasChildren = toArray(propsFromChildren === null || propsFromChildren === void 0 ? void 0 : propsFromChildren.children).some(function (v) {\n    return v;\n  });\n  var childrenFromProps = hasChildren ? propsFromChildren.children : propsFromSourceCode.children; // wrap with array\n\n  if (!Array.isArray(childrenFromProps)) {\n    childrenFromProps = [childrenFromProps];\n  } // add keys\n\n\n  childrenFromProps = childrenFromProps.map(function (child, index) {\n    var _child;\n\n    if ( /*#__PURE__*/React.isValidElement(child) && ((_child = child) === null || _child === void 0 ? void 0 : _child.key) === null) {\n      child = /*#__PURE__*/React.cloneElement(child, {\n        key: index\n      });\n    }\n\n    return child;\n  });\n\n  var props = _objectSpread(_objectSpread(_objectSpread({}, propsFromSourceCode), propsFromChildren), {}, {\n    children: [].concat(_toConsumableArray(childrenFromOverrides), _toConsumableArray(childrenFromProps)).filter(function (v) {\n      return v;\n    })\n  }); // Мы не передаем kind react-компонентам Override, чтоб они не могли\n  // переопределить kind тем компонентам которым передают новые свойства.\n  // В результирующей верстке (html) Overrid'ы все равно никак не отображаются\n  // и служат только инструментом переопределения свойств слотам\n\n\n  if (fromSourceCode !== null && fromSourceCode !== void 0 && fromSourceCode.kind && fromSourceCode.kind !== \"Override\") {\n    props[\"data-qkind\"] = fromSourceCode.kind;\n  }\n\n  if (!props.children.length) {\n    delete props.children;\n  }\n\n  return props;\n};\n/**\n * Просматривает overrides/componentOverrides компонента\n * и рендерит эти узлы, если они есть. Рендеринг выполняется\n * рекурсивно\n */\n\n\nvar getOverrideChildren = function getOverrideChildren(overrides) {\n  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  if (!overrides) return null;\n  return Object.entries(overrides).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        _ref2$ = _ref2[1],\n        props = _ref2$.props,\n        overrides = _ref2$.overrides;\n\n    var _ref3 = props || {},\n        _ref3$children = _ref3.children,\n        children = _ref3$children === void 0 ? null : _ref3$children,\n        rest = _objectWithoutProperties(_ref3, [\"children\"]);\n    /**\n     * Необходимо привести дочерние элементы оверрайдов в единную сущность в виде массива,\n     * иначе произойдет некорректный мердж двух списков и реакт при исполнении функции toArray уйдёт в рекурсию \n     */\n\n\n    var overrideChildren = getOverrideChildren(overrides, level + 1) || [];\n    var normalizedChildren = children || [];\n\n    if (!Array.isArray(children)) {\n      normalizedChildren = [normalizedChildren];\n    }\n\n    return /*#__PURE__*/React.createElement(Override, _extends({\n      key: \"\".concat(level, \"-\").concat(key),\n      slot: key\n    }, rest), [].concat(_toConsumableArray(overrideChildren), _toConsumableArray(normalizedChildren)));\n  });\n};\n\nexport var useOverrides = function useOverrides(componentProps, componentOverrides, componentDefaultProps) {\n  var componentChildren = componentProps.children,\n      restProps = _objectWithoutProperties(componentProps, [\"children\"]);\n\n  var _filterChildren = filterChildren(componentChildren, componentDefaultProps),\n      overridesFromChildren = _filterChildren.overrides,\n      filteredChildren = _filterChildren.children;\n\n  var override = function override() {\n    for (var _len = arguments.length, overrideKeys = new Array(_len), _key = 0; _key < _len; _key++) {\n      overrideKeys[_key] = arguments[_key];\n    }\n\n    var length = overrideKeys.length;\n\n    if (length === 0) {\n      console.warn('override function call should not be without params');\n      return {};\n    }\n\n    var _createOverrideConfig = createOverrideConfiguration(length <= 1 ? {} : overrideKeys[length - 1]),\n        defaultKey = _createOverrideConfig.defaultKey;\n\n    for (var _i = 0, _overrideKeys = overrideKeys; _i < _overrideKeys.length; _i++) {\n      var key = _overrideKeys[_i];\n\n      if (isString(key) && (reIsDeepProp.test(key) || reIsNumProp.test(key))) {\n        throw new Error(\"\\\"\".concat(key, \"\\\" isn't allowed as an override key\"));\n      }\n    }\n\n    var joinedKeys = overrideKeys.filter(function (v) {\n      return isString(v) && v;\n    }).join(JOIN_SEPARATOR);\n    var parentOverrideKey = restProps[\"data-qoverride\"];\n    var parentComponentId = restProps[\"data-qparent\"];\n    var componentId = restProps[\"data-qid\"];\n    var resultKey = joinedKeys; // зачем создавать такой ключ, для qparent? какую роль он потом будет нести?\n\n    if (parentOverrideKey) {\n      resultKey = parentOverrideKey + PARENT_SEPARATOR + resultKey;\n    }\n\n    return _objectSpread(_objectSpread({\n      \"data-qparent\": parentComponentId || componentId,\n      \"data-qoverride\": resultKey\n    }, mergeOverridesByKeys(overrideKeys, componentOverrides, overridesFromChildren)), {}, {\n      \"data-qoverride-default\": defaultKey,\n      \"data-propinfo-id\": undefined\n    });\n  };\n\n  var ChildPlaceholder = React.useMemo(function () {\n    return function (_ref4) {\n      var slot = _ref4.slot;\n      var qapi = getQAPI();\n\n      if (!isString(slot) || reIsDeepProp.test(slot) || reIsNumProp.test(slot)) {\n        throw new Error(\"\\\"\".concat(slot, \"\\\" isn't allowed as a ChildPlaceholder slot\"));\n      }\n\n      var slotData = override(slot);\n      var childPlaceholderKey = slot;\n      var parentOverrideKey = restProps[\"data-qoverride\"];\n\n      if (parentOverrideKey) {\n        childPlaceholderKey = parentOverrideKey + PARENT_SEPARATOR + childPlaceholderKey;\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: \"\".concat(childPlaceholderKey, \"-fragment\")\n      }, qapi.mode !== 'production' && /*#__PURE__*/React.createElement(\"div\", {\n        key: \"div-placeholder-\".concat(childPlaceholderKey),\n        \"data-child-placeholder\": childPlaceholderKey,\n        \"data-child-placeholder-parent\": restProps[\"data-qparent\"] || restProps[\"data-qid\"],\n        style: PLACEHOLDER_STYLES\n      }), slotData.children);\n    };\n  }, [override]);\n  /*\n   * TODO: it creates unnecessary overrides\n   * It needs to filter out existing calls: override('key')\n   */\n\n  var overridesFromCode = getOverrideChildren(componentOverrides) || [];\n  return {\n    override: override,\n    children: [].concat(_toConsumableArray(overridesFromCode), _toConsumableArray(filteredChildren)),\n    rest: restProps,\n    ChildPlaceholder: ChildPlaceholder\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}